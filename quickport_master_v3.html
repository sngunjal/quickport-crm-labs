<!doctype html>
<html lang="en" data-theme="quickport">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quickport CRM — v3_master (Labs) Registration + Dashboard</title>
  <link rel="icon" href="assets/Quickport-CRM-LOGO-2.png" sizes="16x16 32x32 48x48" />
  <link id="qp-favicon-fallback" rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9J25vbmUnIHZpZXdCb3g9JzAgMCA2NCA2NCc+PHJlY3Qgd2lkdGg9JzY0JyBoZWlnaHQ9JzY0JyByeD0nMTInIGZpbGw9JyM3QjNGRTQnLz48Y2lyY2xlIGN4PScyNCcgY3k9JzI4JyByPSc2JyBmaWxsPScjZmZmJy8+PGNpcmNsZSBjeD0nNDAnIGN5PScyOCcgcj0nNicgZmlsbD0nI2ZmZicvPjxyZWN0IHg9JzE4JyB5PSc0MCcgd2lkdGg9JzI4JyBoZWlnaHQ9JzYnIHJ4PSczJyBmaWxsPScjZmZmJy8+PC9zdmc+" />
  <meta name="color-scheme" content="light dark" />
  <style>
    :root { --qp-primary: 268 86% 54%; --qp-primary-2: 266 86% 44%; --qp-accent: 270 100% 70%; --qp-bg: 258 25% 7%; --qp-surface: 0 0% 100%; --qp-text: 0 0% 98%; --qp-ink: 228 14% 15%; --qp-ink-muted: 215 17% 45%; --radius: 12px; --shadow-1: 0 10px 30px hsla(268,70%,45%,0.26); --shadow-2: 0 6px 20px rgba(0,0,0,0.25); --focus: 0 0 0 3px hsl(var(--qp-accent) / 0.5); --qp-blue: #2563EB; --qp-violet: #7C3AED; --qp-slate: #0F172A; --qp-white: #FFFFFF; }
    @media (prefers-color-scheme: light) { :root { --qp-bg: 255 100% 99%; --qp-surface: 0 0% 100%; --qp-text: 250 22% 10%; } }
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body { margin:0; font-family: ui-sans-serif,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Helvetica Neue",Arial; background: linear-gradient(135deg,hsl(var(--qp-primary)/0.18),hsl(var(--qp-primary-2)/0.18)),linear-gradient(180deg,hsl(var(--qp-bg)),hsl(var(--qp-bg)) 42%,hsl(var(--qp-bg)/0.96)); color:hsl(var(--qp-text)); }
    a { color:hsl(var(--qp-accent)); text-decoration:none; }
    a:hover, a:focus { text-decoration:underline; }
    .container { max-width: 1200px; margin-inline:auto; padding:0 24px; }
    header { position: sticky; top:0; z-index:40; background: linear-gradient(180deg,hsl(var(--qp-bg)/0.9),hsl(var(--qp-bg)/0.85)); backdrop-filter: saturate(140%) blur(10px); border-bottom:1px solid hsl(0 0% 100% / 0.06); }
    .nav { display:flex; align-items:center; justify-content:space-between; gap:16px; padding: 14px 0; }
    .brand { display:flex; align-items:center; gap:12px; min-height:40px; }
    #brandLogo { display:none; width:156px; height:auto; object-fit:contain; border-radius:10px; }
    @media (min-width:1280px){ #brandLogo { display:block; min-width:156px; } }
    .brand-text { display:grid; gap:2px; color:hsl(var(--qp-text)); }
    .brand-title { font-weight:800; line-height:1.1; letter-spacing:0.2px; font-size: clamp(20px, 1.8vw, 28px); }
    .brand-tagline { font-size:12px; opacity:0.9; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width: clamp(260px, 46vw, 720px); }
    .tabs { display:flex; align-items:center; gap:12px; }
    .tab { color:hsl(var(--qp-text)); opacity:0.9; padding:8px 10px; border-radius:10px; border:1px solid hsl(0 0% 100% / 0.12); background:transparent; cursor:pointer; }
    .tab[aria-current="page"] { background:hsl(var(--qp-bg)/0.35); box-shadow: inset 0 0 0 2px hsl(0 0% 100% / 0.1); }
    .tab:focus-visible { outline:3px solid hsl(var(--qp-accent)); outline-offset:2px; }
    .login-link { color:hsl(var(--qp-text)); opacity:0.9; margin-left:6px; }
    .session-dot { display:inline-block; width:8px; height:8px; border-radius:999px; background:#10b981; margin-left:8px; box-shadow:0 0 0 2px rgba(0,0,0,0.2); }
    .view { display:none; }
    .view.active { display:block; }
    .hero { display:grid; grid-template-columns: 1fr; gap:18px; padding-block: 22px; align-items: stretch; }
    @media (min-width: 1200px){ .hero { grid-template-columns: 1fr 1fr; gap: 36px; padding-block: 28px; } }
    .card { border-radius: var(--radius); padding: 16px; box-shadow: var(--shadow-2); border: 1px solid #eaeaf0; background:#fff; color: var(--qp-ink); }
    .reg-card .input, .reg-card .select, .reg-card textarea { width:100%; padding:10px 12px; border-radius:10px; border:1px solid #d7dbe3; background:#fff; color:#111827; outline:none; box-shadow: 0 1px 0 rgba(0,0,0,0.02) inset; }
    .reg-card .input:focus, .reg-card .select:focus { border-color:transparent; box-shadow: var(--focus); }
    .label { display:flex; justify-content:space-between; gap:8px; font-size:13px; font-weight:600; color:var(--qp-ink); }
    .error { font-size:12px; color:#b91c1c; min-height:16px; margin-top:6px; }
    .row { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    @media (max-width:480px){ .row { grid-template-columns:1fr; } }
    .btn { display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 16px; border-radius:12px; border:none; cursor:pointer; font-weight:700; background: linear-gradient(135deg, hsl(var(--qp-primary)), hsl(var(--qp-primary-2))); color:#fff; box-shadow: var(--shadow-1); }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 14px 34px hsla(268,80%,40%,0.32); }
    .btn:focus-visible { outline:3px solid hsl(var(--qp-accent)); outline-offset:2px; }
    .btn-secondary { background:transparent; color:hsl(var(--qp-text)); border:1px solid hsl(0 0% 100% / 0.18); }
    #qp-tier-slider.tier-slider { position: relative; display:flex; flex-direction:column; height:100%; overflow:hidden; }
    .slide { display:none; height:100%; }
    .slide.active { display:block; }
    .slide-card { background:#fff; color:#0f172a; border:1px solid #e5e7eb; border-radius:12px; box-shadow:0 6px 16px rgba(0,0,0,0.06); padding:14px; height:100%; position:relative; display:flex; flex-direction:column; gap:8px; overflow:auto; }
    .price-pill { position:absolute; top:10px; right:10px; background: linear-gradient(135deg, var(--qp-blue), var(--qp-violet)); color:#fff; font-weight:800; padding:6px 10px; border-radius:999px; font-size:12px; }
    .slide-title { font-weight:900; font-size:18px; }
    .slide-sub { color:#334155; font-size:13px; }
    .bullets { margin:6px 0; display:grid; gap:4px; font-size:14px; color:#111827; }
    .industries { font-size:13px; color:#475569; margin-top:auto; }
    .slide-cta { margin-top:8px; }
    .slide-cta .btn { padding:10px 12px; filter:grayscale(0.2); }
    .slide-cta .btn[aria-disabled="true"]{ opacity:0.7; pointer-events:none; }
    .asterisk { font-size:11px; color:#64748b; margin-top:6px; }
    .chevron { position:absolute; width:44px; height:44px; border-radius:999px; display:flex; align-items:center; justify-content:center; border:1px solid #e5e7eb; background:#fff; color:#0f172a; box-shadow:0 6px 16px rgba(0,0,0,0.06); cursor:pointer; }
    .chevron:focus-visible { outline:3px solid hsl(var(--qp-accent)); outline-offset:2px; }
    .chev-up { top:8px; right:8px; }
    .chev-down { bottom:8px; right:8px; }
    @media (max-width: 1199px){ .chev-up { left:8px; top:50%; transform:translateY(-50%) rotate(-90deg); } .chev-down { right:8px; top:50%; transform:translateY(-50%) rotate(90deg); } }
    dialog[open]{ display:block; }
    .modal::backdrop{ background:rgba(3,5,16,.58); backdrop-filter:blur(2px); }
    .modal{ border:none; padding:0; border-radius:18px; width: clamp(560px, 92vw, 640px); }
    .modal .content{ padding:18px; background:#ffffff; color:var(--qp-ink); border-radius:18px; border:1px solid #e3e6ef; }
    .modal-header{ display:flex; align-items:start; justify-content:space-between; gap:8px; }
    .modal-title{ font-size:18px; font-weight:800; color:var(--qp-ink); }
    .otp-grid{ display:grid; grid-template-columns: repeat(6,56px); gap:12px; justify-content:center; }
    @media (max-width:420px){ .otp-grid{ grid-template-columns: repeat(6,46px); gap:10px; } }
    .otp-input{ width:56px; height:56px; text-align:center; font-size:22px; font-weight:800; border-radius:12px; border:1px solid #d7dbe3; background:#fff; color:#111827; }
    .otp-actions{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-top:10px; }
    .mini-badge{ display:none; font-size:11px; padding:4px 8px; border-radius:999px; border:1px solid #e5e7eb; background:#fff; color:#111827; }
    .rollout { width:100%; border-collapse:collapse; background:#fff; color:#0F172A; border-radius:12px; overflow:hidden; border:1px solid #e5e7eb; }
    .rollout th, .rollout td { padding:10px 12px; border-bottom:1px solid #eef2f7; font-size:14px; }
    .rollout th { background:#fafafa; text-align:left; font-weight:800; }
    .status { text-align:right; white-space:nowrap; }
    .fab{ position:fixed; right:16px; bottom:24px; width:56px; height:56px; border-radius:999px; border:none; background:linear-gradient(135deg,hsl(var(--qp-primary)),hsl(var(--qp-primary-2))); color:#fff; box-shadow:var(--shadow-1); cursor:pointer; z-index:40; }
    .fab:hover{ transform:translateY(-1px); }
    .fab-card{ position:fixed; right:16px; bottom:92px; width:clamp(360px,92vw,400px); background:rgba(255,255,255,0.98); color:var(--qp-ink); border:1px solid #eaeaf0; border-radius:14px; padding:10px; box-shadow:var(--shadow-2); display:none; z-index:40; }
    .fab-card.open{ display:block; }
    .fab-card .field{ margin-bottom:8px; }
    .toast{ position:fixed; left:50%; transform:translateX(-50%); bottom:14px; background:#0b0f1a; color:#e6edf6; padding:10px 14px; border-radius:999px; box-shadow:0 10px 28px rgba(0,0,0,0.34); font-size:13px; display:none; z-index:60; }
    .toast.show{ display:inline-flex; }
    footer{ border-top:1px solid hsl(0 0% 100% / 0.1); padding-block:16px; font-size:12px; opacity:0.95; }
    footer .footline{ text-align:center; color:hsl(var(--qp-text)); }
  </style>
  <script>
    (function(){
      const svg = "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><rect width='64' height='64' rx='12' fill='#7B3FE4'/><circle cx='24' cy='28' r='6' fill='#fff'/><circle cx='40' cy='28' r='6' fill='#fff'/><rect x='18' y='40' width='28' height='6' rx='3' fill='#fff'/></svg>";
      const b64 = btoa(svg); window.__QP_LOGO_SVG = 'data:image/svg+xml;base64,' + b64; try { const link=document.getElementById('qp-favicon-fallback'); if(link) link.href = window.__QP_LOGO_SVG; } catch {}
      window.__qpLogoFallback = function(img){
        const candidates = [
          img.getAttribute('data-src-png') || '',
          img.getAttribute('data-src-png2') || '',
          img.getAttribute('data-src-jpg') || '',
          img.getAttribute('data-src-jpg2') || ''
        ].filter(Boolean);
        const step = parseInt(img.getAttribute('data-step')||'0',10);
        if (step < candidates.length) {
          img.setAttribute('data-step', String(step+1));
          img.src = candidates[step];
        } else {
          img.style.display='none'; img.setAttribute('data-fallback','hidden');
        }
      };
    })();
  </script>
</head>
<body>
  <a class="skip-link" href="#main" style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden;">Skip to content</a>
  <header role="banner">
    <div class="container nav" aria-label="Top Navigation">
      <div class="brand" aria-label="Brand">
        <img id="brandLogo" src="assets/Quickport%20CRM%20LOGO%20(2).png" data-src-png="assets/Quickport%20CRM%20LOGO%20(2).png" data-src-png2="assets/Quickport-CRM-LOGO-2.png" data-src-jpg="assets/Quickport%20CRM%20LOGO%20(2).jpg" data-src-jpg2="assets/Quickport-CRM-LOGO-2.jpg" width="156" height="156" alt="Quickport CRM" decoding="async" fetchpriority="high" onerror="window.__qpLogoFallback && window.__qpLogoFallback(this)" />
        <div class="brand-text">
          <div class="brand-title">Quickport CRM</div>
          <div class="brand-tagline" title="Hyper‑personal experiences. Simple, affordable AI. Scalable growth">Hyper‑personal experiences. Simple, affordable AI. Scalable growth</div>
        </div>
      </div>
      <nav aria-label="Primary" class="tabs" role="tablist">
        <button class="tab" role="tab" id="tabHome" aria-controls="homeView" aria-current="page">Home</button>
        <button class="tab" role="tab" id="tabDocs" aria-controls="docsView">Docs</button>
        <button class="tab" role="tab" id="tabLit" aria-controls="litView">Literature</button>
        <a class="login-link" href="#" id="loginLink">Login</a>
        <span id="sessionDot" class="session-dot" hidden title="Session active" aria-label="Session active"></span>
      </nav>
    </div>
  </header>

  <!-- HOME VIEW -->
  <div id="homeView" class="view active" role="tabpanel" aria-labelledby="tabHome">
    <main id="main" class="container" role="main">
      <section class="hero" aria-label="Hero with Tier slider and registration">
        <!-- Left: Tier vertical slider -->
        <div id="qp-tier-slider" class="tier-slider card" aria-live="polite" aria-label="Tier Architecture slider">
          <button class="chevron chev-up" id="tierPrev" aria-label="Previous tier" title="Previous">▲</button>
          <button class="chevron chev-down" id="tierNext" aria-label="Next tier" title="Next">▼</button>
          <div class="slide active" data-index="0">
            <div class="slide-card">
              <div class="price-pill">₹ 199/month*</div>
              <div class="slide-title">FOUNDATION</div>
              <div class="slide-sub">Setup & Operate</div>
              <div class="bullets">
                <div>• RBAC, MFA, encryption</div>
                <div>• Onboarding, appointments, reminders, SLAs</div>
              </div>
              <div class="industries">Industries: Education (MVP highlight)</div>
              <div class="slide-cta"><button class="btn" aria-disabled="true" tabindex="-1">Start Free Trial</button></div>
              <div class="asterisk">* All fields are required in the registration form.</div>
            </div>
          </div>
          <div class="slide" data-index="1">
            <div class="slide-card">
              <div class="price-pill">₹ 399/month*</div>
              <div class="slide-title">ENGAGE</div>
              <div class="slide-sub">Communicate & Retain</div>
              <div class="bullets">
                <div>• Campaigns, surveys, reviews</div>
                <div>• Loyalty, segmentation, dynamic content</div>
              </div>
              <div class="industries">Industries: Education, Healthcare</div>
              <div class="slide-cta"><button class="btn" aria-disabled="true" tabindex="-1">Start Free Trial</button></div>
              <div class="asterisk">* All fields are required in the registration form.</div>
            </div>
          </div>
          <div class="slide" data-index="2">
            <div class="slide-card">
              <div class="price-pill">₹ 599/month*</div>
              <div class="slide-title">AUTOMATE</div>
              <div class="slide-sub">Scale & Streamline</div>
              <div class="bullets">
                <div>• Drips, triggers, email monitoring</div>
                <div>• Real‑time dashboards, integrations, e‑commerce</div>
              </div>
              <div class="industries">Industries: Education, Services</div>
              <div class="slide-cta"><button class="btn" aria-disabled="true" tabindex="-1">Start Free Trial</button></div>
              <div class="asterisk">* All fields are required in the registration form.</div>
            </div>
          </div>
          <div class="slide" data-index="3">
            <div class="slide-card">
              <div class="price-pill">₹ 799/month*</div>
              <div class="slide-title">INTELLIGENCE</div>
              <div class="slide-sub">Anticipate & Personalize</div>
              <div class="bullets">
                <div>• Predictive analytics, CLV</div>
                <div>• GenAI agents, CDP‑lite</div>
              </div>
              <div class="industries">Industries: Call Centres, Healthcare</div>
              <div class="slide-cta"><button class="btn" aria-disabled="true" tabindex="-1">Start Free Trial</button></div>
              <div class="asterisk">* All fields are required in the registration form.</div>
            </div>
          </div>
          <div class="slide" data-index="4">
            <div class="slide-card">
              <div class="price-pill">₹ 1299/month*</div>
              <div class="slide-title">INNOVATION</div>
              <div class="slide-sub">Redefine & Lead</div>
              <div class="bullets">
                <div>• Voice/IVR bots, NLP, console</div>
                <div>• GenAI automation, AR/VR</div>
              </div>
              <div class="industries">Industries: Call Centres, E‑commerce</div>
              <div class="slide-cta"><button class="btn" aria-disabled="true" tabindex="-1">Start Free Trial</button></div>
              <div class="asterisk">* All fields are required in the registration form.</div>
            </div>
          </div>
        </div>

        <!-- Right: Registration card -->
        <div id="qp-register-card" class="reg-card card" aria-labelledby="regTitle">
          <h2 id="regTitle" style="margin:0 0 8px 0; font-size:18px; font-weight:900; color:var(--qp-ink);">Start your AI journey with Quickport CRM — free to explore.</h2>
          <p class="help" style="margin:0 0 8px 0; color:var(--qp-ink);">Discover how simple AI transforms customer connections.</p>
          <div class="help" style="margin-bottom:8px; color:var(--qp-ink);">All fields are required.</div>

          <form id="regForm" novalidate autocomplete="on">
            <div class="field">
              <label class="label" for="businessName">Business Name</label>
              <input class="input" id="businessName" name="businessName" type="text" required maxlength="120" autocomplete="organization" aria-describedby="businessNameErr" />
              <div id="businessNameErr" class="error" aria-live="polite"></div>
            </div>
            <div class="field">
              <label class="label" for="phone">Phone Number</label>
              <div class="row">
                <select class="select" id="country" name="country" aria-label="Country code" title="India +91"><option value="IN" selected>🇮🇳 IN +91</option></select>
                <input class="input" id="phone" name="phone" type="tel" inputmode="numeric" pattern="^\+91[6-9]\d{9}$" placeholder="+919876543210" required autocomplete="tel" aria-describedby="phoneErr" />
              </div>
              <div id="phoneErr" class="error" aria-live="polite"></div>
            </div>
            <div class="field">
              <label class="label" for="email">Email Address</label>
              <input class="input" id="email" name="email" type="email" required autocomplete="email" aria-describedby="emailErr" />
              <div id="emailErr" class="error" aria-live="polite"></div>
            </div>
            <button class="btn" id="submitBtn" type="submit" aria-live="polite"><span id="submitText">Explore Now</span><span id="submitSpinner" aria-hidden="true" style="display:none">⏳</span></button>
          </form>
        </div>
      </section>

      <!-- Industry Rollout directly below hero -->
      <section aria-labelledby="rolloutTitle">
        <h2 id="rolloutTitle" class="section-title" style="font-weight:900; font-size:22px; margin-bottom:12px;">Industry Rollout</h2>
        <div style="overflow:auto;">
          <table class="rollout" role="table" aria-label="Industry Rollout table" id="rolloutTable"><thead><tr><th>Industry</th><th>Use cases</th><th>Path</th><th class="status">Status</th></tr></thead><tbody></tbody></table>
        </div>
      </section>
    </main>
  </div>

  <!-- DOCS VIEW -->
  <div id="docsView" class="view container" role="tabpanel" aria-labelledby="tabDocs">
    <section aria-labelledby="docsAboutTitle" style="margin-top:22px;">
      <button class="btn" id="docsScrollBtn" type="button">Learn more</button>
      <h2 id="docsAboutTitle" class="section-title" style="margin-top:12px;">About Quickport CRM</h2>
      <article class="card" id="docsAboutContent" tabindex="-1" style="background:rgba(255,255,255,0.96); color:var(--qp-slate);">
        <h3>What Quickport does</h3>
        <p>Quickport CRM unifies customer onboarding, scheduling, engagement, and analytics with AI‑assisted workflows. It connects channels, streamlines operations, and surfaces insights in real‑time.</p>
        <h3>Who it’s for</h3>
        <p>Small to mid teams starting with Indian Tutors, expanding to services, healthcare, and call centres through phased rollouts.</p>
        <h3>Why it’s different</h3>
        <p>Open architecture with flexible APIs, automation primitives, and LLM copilots embedded across journeys — from intake to retention.</p>
        <h3>Trust, safety, and compliance</h3>
        <p>DLT‑compliant SMS for India; templates and headers are validated server‑side. Practices align with ISO 27001 and platform policies.</p>
        <h3>Built for speed and sustainability</h3>
        <p>Cloud‑native, scalable components with measured costs. Rapid iteration through modular tiers: Foundation → Innovation.</p>
        <h3>Value for every stakeholder</h3>
        <p>Owners see ROI clarity; operators get automation; customers get personalized experiences; teams gain assistive copilots.</p>
        <h3>Roadmap at a glance</h3>
        <p>Foundation and Engage in pilot, expanding to Automate and Intelligence; Innovation track introduces voice/IVR bots and experiential AI.</p>
      </article>
    </section>
  </div>

  <!-- LITERATURE VIEW -->
  <div id="litView" class="view container" role="tabpanel" aria-labelledby="tabLit">
    <section aria-labelledby="litTitle" style="margin-top:22px;">
      <h2 id="litTitle" class="section-title">Reference Literature</h2>
      <div class="lit-grid" id="docsList"></div>
      <form id="docsForm" aria-label="Add literature card" style="margin-top:10px; display:grid; grid-template-columns: 1fr 2fr auto; gap:8px;">
        <input class="reg-card input" id="newDocTitle" placeholder="Card title" aria-label="Title" />
        <input class="reg-card input" id="newDocDesc" placeholder="Short blurb" aria-label="Short blurb" />
        <button class="btn" id="addDocBtn" type="submit" style="border-radius:10px;">Add</button>
      </form>
      <div style="margin-top:8px; display:flex; gap:8px;">
        <button class="btn-secondary" id="restoreDocBtn" type="button" style="padding:8px 10px;border-radius:10px;">Restore last removed</button>
        <button class="btn-secondary" id="clearDocsBtn" type="button" style="padding:8px 10px;border-radius:10px;">Clear all</button>
      </div>
    </section>
  </div>

  <!-- OTP Modal (unchanged behavior) -->
  <dialog id="otpDialog" class="modal" role="dialog" aria-modal="true" aria-labelledby="otpTitle" aria-describedby="otpDesc">
    <form method="dialog" class="content" id="otpFormShell">
      <div class="modal-header">
        <div>
          <div class="modal-title" id="otpTitle">Verify your mobile number (DLT‑approved SMS)</div>
          <p id="otpDesc" class="help" style="margin:6px 0 0 0; color:var(--qp-ink);">Enter the 6‑digit code we sent to your phone. OTP valid for 5 minutes. Attempts: <span id="attemptsLeft">5</span>.</p>
          <div class="badges" style="margin-top:8px; display:flex; gap:8px;">
            <span class="mini-badge" id="badgeDLT" title="DLT template mapped and used">DLT template in use</span>
            <span class="mini-badge" id="badgeToken" title="Server verified provider token">Secure token verified server‑side</span>
          </div>
        </div>
        <button type="button" class="btn-secondary" id="closeOtpBtn" aria-label="Close OTP dialog">Close</button>
      </div>
      <div class="modal-body">
        <div class="otp-grid" role="group" aria-label="One time passcode inputs">
          <input class="otp-input" inputmode="numeric" pattern="\\d*" autocomplete="one-time-code" aria-label="Digit 1" maxlength="1" />
          <input class="otp-input" inputmode="numeric" pattern="\\d*" autocomplete="one-time-code" aria-label="Digit 2" maxlength="1" />
          <input class="otp-input" inputmode="numeric" pattern="\\d*" autocomplete="one-time-code" aria-label="Digit 3" maxlength="1" />
          <input class="otp-input" inputmode="numeric" pattern="\\d*" autocomplete="one-time-code" aria-label="Digit 4" maxlength="1" />
          <input class="otp-input" inputmode="numeric" pattern="\\d*" autocomplete="one-time-code" aria-label="Digit 5" maxlength="1" />
          <input class="otp-input" inputmode="numeric" pattern="\\d*" autocomplete="one-time-code" aria-label="Digit 6" maxlength="1" />
        </div>
        <div id="otpErr" class="error" aria-live="polite" style="margin-top:8px;"></div>
        <div class="otp-actions"><div class="help" style="color:var(--qp-ink);">Resend in <span id="countdown">00:30</span></div><div style="display:flex;gap:8px;"><button type="button" class="btn-secondary" id="resendBtn" disabled>Resend OTP</button><button type="button" class="btn" id="verifyBtn">Verify</button></div></div>
        <div class="help" style="margin-top:10px; color:var(--qp-ink);">Template used for OTP: “Quickport: Your verification code is {#var#}. Valid for {#var#} minutes. Do not share.”</div>
      </div>
      <div class="modal-footer" style="color:var(--qp-ink);">Protected APIs require Authorization: Bearer &lt;JWT&gt; (RFC 6750). Demo tokens are stored locally for demo purposes only.</div>
    </form>
  </dialog>

  <!-- Email OTP (mock) -->
  <dialog id="emailDialog" class="modal" role="dialog" aria-modal="true" aria-labelledby="emailOtpTitle" aria-describedby="emailOtpDesc">
    <form method="dialog" class="content">
      <div class="modal-header"><div><div class="modal-title" id="emailOtpTitle">Optional: verify your email</div><p id="emailOtpDesc" class="help" style="margin:6px 0 0 0; color:var(--qp-ink);">Mock mode can auto‑approve for demos.</p></div><button type="button" class="btn-secondary" id="closeEmailBtn" aria-label="Close email dialog">Close</button></div>
      <div class="modal-body"><div style="display:flex;gap:8px;margin-top:10px;"><button type="button" class="btn" id="emailVerifyOk">Looks good</button></div></div>
    </form>
  </dialog>

  <!-- Dashboard shell (unchanged) -->
  <section id="dashboardShell" class="container view" hidden aria-labelledby="dashTitle">
    <h2 id="dashTitle" class="section-title">Welcome to your Dashboard</h2>
    <p class="help">Protected routes require Authorization: Bearer &lt;JWT&gt;. Tokens are validated server‑side over HTTPS. This shell simulates session persistence for demo.</p>
    <div class="card" style="margin-top:8px;">Logged in demo shell.</div>
  </section>

  <!-- Contact FAB + card -->
  <button class="fab" id="fabBtn" aria-label="Open contact form">✉</button>
  <div class="fab-card" id="fabCard" role="dialog" aria-modal="false" aria-labelledby="fabTitle">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;"><div id="fabTitle" style="font-weight:800;">Contact Quickport</div><button class="btn-secondary" id="fabClose" type="button" aria-label="Close contact form">Close</button></div>
    <form id="contactForm" style="margin-top:6px;">
      <div class="field"><label class="label" for="cBiz">Business Name</label><input class="reg-card input" id="cBiz" required /></div>
      <div class="field"><label class="label" for="cType">Business Type</label><input class="reg-card input" id="cType" /></div>
      <div class="field"><label class="label" for="cQ">Questions</label><textarea class="reg-card input" id="cQ" rows="3"></textarea></div>
      <div class="field"><label class="label" for="cContact">Contact Details</label><input class="reg-card input" id="cContact" required /></div>
      <button class="btn" type="submit">Send</button>
    </form>
  </div>
  <div id="toast" class="toast" role="status" aria-live="polite">Sent!</div>

  <footer role="contentinfo" class="container"><div class="footline">ISO 27001–aligned | DLT‑compliant SMS | Meta‑policy conformant | India rules observed | Global rollout in phases. © Quickport CRM</div></footer>

  <script>
    window.QP_MOCK = true;
    function trapFocus(modal){ const f = modal.querySelectorAll('button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])'); const first=f[0], last=f[f.length-1]; function onKey(e){ if(e.key==='Tab'){ if(e.shiftKey&&document.activeElement===first){e.preventDefault();last.focus();} else if(!e.shiftKey&&document.activeElement===last){e.preventDefault();first.focus();} } if(e.key==='Escape') modal.close(); } modal.addEventListener('keydown', onKey); return ()=> modal.removeEventListener('keydown', onKey); }
    const views = { homeView: document.getElementById('homeView'), docsView: document.getElementById('docsView'), litView: document.getElementById('litView') };
    const tabs = { tabHome: document.getElementById('tabHome'), tabDocs: document.getElementById('tabDocs'), tabLit: document.getElementById('tabLit') };
    function setActive(viewId, tabId){ Object.values(views).forEach(v=>v.classList.remove('active')); views[viewId].classList.add('active'); Object.values(tabs).forEach(t=>t.removeAttribute('aria-current')); tabs[tabId].setAttribute('aria-current','page'); }
    tabs.tabHome.addEventListener('click', ()=> setActive('homeView','tabHome'));
    tabs.tabDocs.addEventListener('click', ()=> { setActive('docsView','tabDocs'); document.getElementById('docsAboutTitle').scrollIntoView({behavior:'smooth', block:'start'}); });
    tabs.tabLit.addEventListener('click', ()=> setActive('litView','tabLit'));

    const els = { regForm: document.getElementById('regForm'), businessName: document.getElementById('businessName'), phone: document.getElementById('phone'), email: document.getElementById('email'), submitBtn: document.getElementById('submitBtn'), submitText: document.getElementById('submitText'), submitSpinner: document.getElementById('submitSpinner'), bErr: document.getElementById('businessNameErr'), pErr: document.getElementById('phoneErr'), eErr: document.getElementById('emailErr'), otpDialog: document.getElementById('otpDialog'), countdown: document.getElementById('countdown'), resendBtn: document.getElementById('resendBtn'), verifyBtn: document.getElementById('verifyBtn'), otpErr: document.getElementById('otpErr'), attemptsLeft: document.getElementById('attemptsLeft'), badgeDLT: document.getElementById('badgeDLT'), badgeToken: document.getElementById('badgeToken'), closeOtpBtn: document.getElementById('closeOtpBtn'), emailDialog: document.getElementById('emailDialog'), closeEmailBtn: document.getElementById('closeEmailBtn'), emailVerifyOk: document.getElementById('emailVerifyOk'), dash: document.getElementById('dashboardShell'), loginLink: document.getElementById('loginLink'), sessionDot: document.getElementById('sessionDot'), fabBtn: document.getElementById('fabBtn'), fabCard: document.getElementById('fabCard'), fabClose: document.getElementById('fabClose'), contactForm: document.getElementById('contactForm'), toast: document.getElementById('toast'), rolloutTable: document.getElementById('rolloutTable').querySelector('tbody'), tierSlider: document.getElementById('qp-tier-slider'), tierPrev: document.getElementById('tierPrev'), tierNext: document.getElementById('tierNext'), };

    const state = { reqId:null, attempts:0, maxAttempts:5, otpLen:6, cooldown:30, timer:null, formCache:null, removedStack:[], activeSlide:0 };

    function showToast(msg){ els.toast.textContent = msg; els.toast.classList.add('show'); setTimeout(()=> els.toast.classList.remove('show'), 1800); }

    // Literature
    const DEFAULT_LIT = [ {t:'Amazon Book — Customer Experience with AI', d:'Practical playbooks to blend CRM and AI', href:'https://www.amazon.com/', featured:true}, {t:'Whitepaper — AI in CRM', d:'Frameworks for measurable adoption', href:'#'}, {t:'Blog — Automation patterns', d:'Short reads on workflows', href:'#'} ];
    function litLoad(){ const raw=localStorage.getItem('qp_lit'); return raw? JSON.parse(raw) : DEFAULT_LIT.slice(); }
    function litSave(list){ localStorage.setItem('qp_lit', JSON.stringify(list)); }
    function renderLit(){ const list=litLoad(); const cont=document.getElementById('docsList'); if(!cont) return; cont.innerHTML=''; list.forEach(addLitCard); }
    function addLitCard(item){ const card=document.createElement('div'); card.className='lit-card'; card.innerHTML=`<div style="display:flex;align-items:center;justify-content:space-between;gap:8px;"><strong>${item.t}</strong>${item.featured?'<span class="badge" style="margin-left:auto;">Featured</span>':''}</div><div>${item.d}</div><div class="lit-actions"><a class="btn" href="${item.href}" target="_blank" rel="noopener">Read now</a><button class="btn-secondary" type="button">Remove</button></div>`; card.querySelector('button').addEventListener('click', ()=>{ const list=litLoad(); const idx=list.findIndex(x=>x.t===item.t && x.d===item.d); if(idx>-1){ state.removedStack.push(list[idx]); list.splice(idx,1); litSave(list); } card.remove(); }); document.getElementById('docsList').appendChild(card); }
    const docsFormEl = document.getElementById('docsForm'); if(docsFormEl){ docsFormEl.addEventListener('submit', (e)=>{ e.preventDefault(); const t=document.getElementById('newDocTitle').value.trim()||'New resource'; const d=document.getElementById('newDocDesc').value.trim()||'Short blurb'; const list=litLoad(); list.push({t,d,href:'#'}); litSave(list); addLitCard({t,d,href:'#'}); docsFormEl.reset(); }); }
    const restoreBtn = document.getElementById('restoreDocBtn'); if(restoreBtn){ restoreBtn.addEventListener('click', ()=>{ const x=state.removedStack.pop(); if(!x) return; const list=litLoad(); list.push(x); litSave(list); addLitCard(x); }); }
    const clearBtn = document.getElementById('clearDocsBtn'); if(clearBtn){ clearBtn.addEventListener('click', ()=>{ localStorage.removeItem('qp_lit'); state.removedStack=[]; renderLit(); }); }

    // Rollout
    const ROLLOUT = [ {i:'Education (Tutors)', u:'Student onboarding, scheduling, fee reminders, surveys', p:'Foundation → Engage → partial Automate', s:'✅ MVP Priority'}, {i:'Healthcare', u:'Appointments, feedback, sentiment, secure messaging', p:'Foundation → Engage → partial Intelligence', s:'⏳ Phase 2'}, {i:'Services', u:'Lead intake, scheduling, reminders, churn prediction', p:'Foundation → Automate', s:'⚙️ Phase 3'}, {i:'Call Centres', u:'IVR, voice bot, QA, dashboards', p:'Foundation → Innovation', s:'🧩 Phase 4'}, ];
    function renderRollout(){ els.rolloutTable.innerHTML=''; ROLLOUT.forEach(r=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${r.i}</td><td>${r.u}</td><td>${r.p}</td><td class='status'>${r.s}</td>`; els.rolloutTable.appendChild(tr); }); }

    // Slider behavior
    function gotoSlide(idx){ const slides = els.tierSlider.querySelectorAll('.slide'); if(idx<0) idx = slides.length-1; if(idx>=slides.length) idx=0; slides.forEach(s=>s.classList.remove('active')); slides[idx].classList.add('active'); state.activeSlide = idx; els.tierSlider.setAttribute('aria-label', 'Tier Architecture slider — ' + slides[idx].querySelector('.slide-title').textContent); matchHeights(); }
    els.tierPrev.addEventListener('click', ()=> gotoSlide(state.activeSlide-1));
    els.tierNext.addEventListener('click', ()=> gotoSlide(state.activeSlide+1));
    els.tierSlider.addEventListener('keydown', (e)=>{ if(e.key==='ArrowUp'||e.key==='ArrowLeft'){ e.preventDefault(); gotoSlide(state.activeSlide-1); } if(e.key==='ArrowDown'||e.key==='ArrowRight'){ e.preventDefault(); gotoSlide(state.activeSlide+1); } });
    (function(){ let sx=null, sy=null; els.tierSlider.addEventListener('touchstart', e=>{ sx = e.changedTouches[0].clientX; sy = e.changedTouches[0].clientY; }, {passive:true}); els.tierSlider.addEventListener('touchend', e=>{ if(sx==null) return; const dx = e.changedTouches[0].clientX - sx; const dy = e.changedTouches[0].clientY - sy; const wide = window.innerWidth >= 1200; if(!wide && Math.abs(dx)>30){ if(dx>0) gotoSlide(state.activeSlide-1); else gotoSlide(state.activeSlide+1); } else if(wide && Math.abs(dy)>30){ if(dy>0) gotoSlide(state.activeSlide-1); else gotoSlide(state.activeSlide+1); } sx=sy=null; }, {passive:true}); })();

    // Validation & OTP (unchanged)
    const PHONE_RE = /^\+91[6-9]\d{9}$/;
    function validate(){ let ok=true; const b=els.businessName.value.trim(); if(!b){ els.bErr.textContent='Business name is required'; ok=false;} else if(b.length>120){ els.bErr.textContent='Max 120 characters'; ok=false;} else { els.bErr.textContent=''; }
      const p=els.phone.value.trim(); if(!p){ els.pErr.textContent='Phone is required'; ok=false;} else if(!PHONE_RE.test(p)){ els.pErr.textContent='Invalid Indian mobile format'; ok=false;} else { els.pErr.textContent=''; }
      const e=els.email.value.trim(); if(!e){ els.eErr.textContent='Email is required'; ok=false;} else if(!els.email.checkValidity()){ els.eErr.textContent='Enter a valid email'; ok=false;} else { els.eErr.textContent=''; } return ok; }
    function setSubmitting(on){ els.submitBtn.disabled=on; els.submitSpinner.style.display= on ? 'inline' : 'none'; els.submitText.textContent = on ? 'Submitting…' : 'Explore Now'; }
    function toMMSS(t){ const m=String(Math.floor(t/60)).padStart(2,'0'); const s=String(t%60).padStart(2,'0'); return `${m}:${s}`; }
    function startCooldown(sec){ let t=sec; document.getElementById('countdown').textContent = toMMSS(t); els.resendBtn.disabled=true; if(state.timer) clearInterval(state.timer); state.timer=setInterval(()=>{ t--; document.getElementById('countdown').textContent = toMMSS(Math.max(t,0)); if(t<=0){ clearInterval(state.timer); els.resendBtn.disabled=false; } },1000); }
    function getOtpValue(){ return Array.from(document.querySelectorAll('.otp-input')).map(i=>i.value).join(''); }
    function clearOtp(){ Array.from(document.querySelectorAll('.otp-input')).forEach(i=> i.value=''); }

    async function apiPost(path, body){ const res=await fetch(path,{method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(body)}); if(!res.ok) throw new Error('Network error'); return res.json(); }
    function mockRequestOtp(){ return new Promise(r=> setTimeout(()=> r({status:'success', reqId:'mock-'+Date.now(), tokenVerified:true, templateId:'DLT12345', header:'QPORT'}),600)); }
    function mockVerifyOtp(){ return new Promise((resolve,reject)=> setTimeout(()=>{ const otp=getOtpValue(); if(otp==='000000') return reject({status:'error', message:'Invalid OTP'}); resolve({status:'success', user:{id:'u_'+Math.random().toString(36).slice(2), business: state.formCache?.businessName }, token:'demo-token-'+Math.random().toString(36).slice(2)}); },600)); }
    function mockRegister(){ return new Promise(r=> setTimeout(()=> r({status:'success', user:{id:'u_'+Math.random().toString(36).slice(2), business: state.formCache?.businessName }, token:'demo-token-'+Math.random().toString(36).slice(2)}),400)); }

    let untrap=null; let autofocusDone=false;
    function openOtpModal(meta){ document.getElementById('badgeDLT').style.display = (meta?.templateId && meta?.header) ? 'inline-flex' : 'none'; document.getElementById('badgeToken').style.display = meta?.tokenVerified ? 'inline-flex' : 'none'; document.getElementById('attemptsLeft').textContent = String(state.maxAttempts - state.attempts); els.otpDialog.showModal(); untrap = trapFocus(els.otpDialog); clearOtp(); if(!autofocusDone){ setTimeout(()=> document.querySelectorAll('.otp-input')[0].focus(), 30); autofocusDone=true; } startCooldown(state.cooldown); }
    document.getElementById('closeOtpBtn').addEventListener('click', ()=> { if(untrap) untrap(); els.otpDialog.close(); });
    (function attachOtp(){ const inputs=document.querySelectorAll('.otp-input'); inputs.forEach((i,idx)=>{ i.addEventListener('input',()=>{ const v=i.value.replace(/[^0-9]/g,''); i.value=v.slice(-1); if(v && idx<inputs.length-1) inputs[idx+1].focus(); }); i.addEventListener('keydown',(e)=>{ if(e.key==='Backspace' && !i.value && idx>0) inputs[idx-1].focus(); }); i.addEventListener('paste',(e)=>{ const t=(e.clipboardData||window.clipboardData).getData('text'); const d=(t||'').replace(/\D/g,'').slice(0,state.otpLen); if(d){ e.preventDefault(); inputs.forEach((el,j)=> el.value = d[j]||''); const last=Math.min(d.length,inputs.length)-1; if(last>=0) inputs[last].focus(); } }); }); })();

    // Registration submit
    els.regForm.addEventListener('submit', async (e)=>{ e.preventDefault(); if(!validate()) return; const payload={ businessName: els.businessName.value.trim(), phoneE164: els.phone.value.trim(), email: els.email.value.trim() }; state.formCache = payload; try { setSubmitting(true); let json; if(window.QP_MOCK) json = await mockRequestOtp(); else json = await apiPost('/api/auth/request-mobile-otp', payload); if(json.status==='success'){ state.reqId=json.reqId; state.attempts=0; els.otpErr.textContent=''; openOtpModal(json); } else { throw new Error(json.message||'Unable to request OTP'); } } catch(err){ showToast('Could not request OTP'); console.warn('OTP request error', err); } finally { setSubmitting(false); } });
    els.resendBtn.addEventListener('click', async ()=>{ try { els.resendBtn.disabled=true; startCooldown(state.cooldown); const payload=state.formCache; let json; if(window.QP_MOCK) json=await mockRequestOtp(); else json=await apiPost('/api/auth/request-mobile-otp', payload); if(json.status==='success'){ state.reqId=json.reqId; showToast('OTP resent'); document.getElementById('badgeDLT').style.display = (json?.templateId && json?.header) ? 'inline-flex' : 'none'; document.getElementById('badgeToken').style.display = json?.tokenVerified ? 'inline-flex' : 'none'; } } catch(e){ showToast('Resend failed'); } });
    els.verifyBtn.addEventListener('click', async ()=>{ const otp=getOtpValue(); if(otp.length!==state.otpLen){ els.otpErr.textContent='Enter all 6 digits'; return; } if(state.attempts>=state.maxAttempts){ els.otpErr.textContent='Attempts exceeded. Try later.'; return; } els.verifyBtn.disabled=true; els.otpErr.textContent=''; try { state.attempts++; document.getElementById('attemptsLeft').textContent = String(state.maxAttempts - state.attempts); const body={ reqId: state.reqId, otp }; let json; if(window.QP_MOCK) json=await mockVerifyOtp(); else json=await apiPost('/api/auth/verify-mobile-otp', body); if(json.status==='success'){ window.dispatchEvent(new CustomEvent('qp:otp-verified', { detail:{ reqId: state.reqId } })); const regBody={ ...state.formCache, reqId: state.reqId, verifiedAt: new Date().toISOString() }; let regRes; if(window.QP_MOCK) regRes=await mockRegister(); else regRes=await apiPost('/api/auth/register-from-viasocket', regBody); if(regRes.status==='success'){ const session={ user: regRes.user||json.user, token: regRes.token||json.token, ts: Date.now(), demo:true }; try{ localStorage.setItem('qp_demo_session', JSON.stringify(session)); }catch{} if(untrap) untrap(); els.otpDialog.close(); els.sessionDot.hidden=false; enterDashboard(); } else { els.otpErr.textContent = regRes.message || 'Registration failed'; } } else { els.otpErr.textContent = json.message || 'Invalid OTP'; } } catch(err){ els.otpErr.textContent = (err && err.message) || 'Verification failed'; } finally { els.verifyBtn.disabled=false; } });

    document.getElementById('docsScrollBtn')?.addEventListener('click', ()=> document.getElementById('docsAboutContent').scrollIntoView({behavior:'smooth', block:'start'}));
    function enterDashboard(){ document.getElementById('homeView').classList.remove('active'); document.getElementById('docsView').classList.remove('active'); document.getElementById('litView').classList.remove('active'); document.getElementById('dashboardShell').hidden=false; document.getElementById('dashboardShell').classList.add('active'); window.scrollTo({top:0, behavior:'smooth'}); }
    document.getElementById('loginLink').addEventListener('click', (e)=>{ e.preventDefault(); const s=localStorage.getItem('qp_demo_session'); if(s){ els.sessionDot.hidden=false; enterDashboard(); } else { showToast('No demo session'); } });
    els.fabBtn.addEventListener('click', ()=> els.fabCard.classList.toggle('open'));
    els.fabClose.addEventListener('click', ()=> els.fabCard.classList.remove('open'));
    els.contactForm.addEventListener('submit', async (e)=>{ e.preventDefault(); const body={ businessName: document.getElementById('cBiz').value.trim(), businessType: document.getElementById('cType').value.trim(), questions: document.getElementById('cQ').value.trim(), contact: document.getElementById('cContact').value.trim() }; try { const res=await fetch('/api/contact',{method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(body)}); if(!res.ok) throw new Error('not ok'); showToast('Sent!'); e.target.reset(); els.fabCard.classList.remove('open'); } catch(err){ const subject=encodeURIComponent('Quickport CRM — Contact'); const bodyTxt=encodeURIComponent(`Business: ${body.businessName}\nType: ${body.businessType}\nContact: ${body.contact}\nQuestions: ${body.questions}`); window.location.href=`mailto:crm@quickport.co.in?subject=${subject}&body=${bodyTxt}`; showToast('Opening email…'); } });

    renderRollout(); renderLit();
    try { if(localStorage.getItem('qp_demo_session')) els.sessionDot.hidden=false; } catch{}

    function matchHeights(){ try { if(window.innerWidth < 1200){ els.tierSlider.style.height = 'auto'; els.tierSlider.style.minHeight=''; return; } const regH = document.getElementById('qp-register-card').offsetHeight; els.tierSlider.style.height = regH + 'px'; } catch{} }
    matchHeights(); window.addEventListener('resize', matchHeights);
    gotoSlide(0);
  </script>
</body>
</html>